(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33726,e=>{"use strict";let a=(0,e.i(24632).createClient)("https://aysoiacdxglzsuhtrfnp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5c29pYWNkeGdsenN1aHRyZm5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NDk2MjIsImV4cCI6MjA4MDAyNTYyMn0.5agJq8Jn_o2Mdwylq7LOHO0B8TAw2jJoJwnEjOsB950");e.s(["supabase",0,a])},18566,(e,a,s)=>{a.exports=e.r(76562)},4296,e=>{"use strict";var a=e.i(43476),s=e.i(71645),i=e.i(33726),r=e.i(18566);function t(){let[e,t]=(0,s.useState)({nombre:"",email:"",password:""}),[n,l]=(0,s.useState)(!0),[o,c]=(0,s.useState)(!1),d=(0,r.useRouter)(),u=(0,r.useParams)();function m(a){t({...e,[a.target.name]:a.target.value})}async function b(a){a.preventDefault(),c(!0);try{let a={nombre:e.nombre,email:e.email};e.password.trim()&&(a.password=e.password);let{error:s}=await i.supabase.from("usuarios").update(a).eq("id",u.id);if(s)throw s;alert("Técnico actualizado correctamente"),d.push("/admin/tecnicos")}catch(e){alert("Error al actualizar técnico: "+e.message)}finally{c(!1)}}return((0,s.useEffect)(()=>{!async function(){try{let{data:e,error:a}=await i.supabase.from("usuarios").select("nombre, email").eq("id",u.id).eq("rol","tecnico").single();if(a)throw a;t({nombre:e.nombre||"",email:e.email||"",password:""})}catch(e){alert("Error al cargar técnico: "+e.message)}finally{l(!1)}}()},[u.id]),n)?(0,a.jsx)("div",{className:"p-10",children:"Cargando..."}):(0,a.jsxs)("div",{className:"p-10 max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Editar Técnico"}),(0,a.jsxs)("form",{onSubmit:b,className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre *"}),(0,a.jsx)("input",{type:"text",name:"nombre",value:e.nombre,onChange:m,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,a.jsx)("input",{type:"email",name:"email",value:e.email,onChange:m,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nueva Contraseña (dejar vacío si no desea cambiarla)"}),(0,a.jsx)("input",{type:"password",name:"password",value:e.password,onChange:m,className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Solo si desea cambiarla"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)("button",{type:"submit",disabled:o,className:"flex-1 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:bg-gray-400",children:o?"Guardando...":"Guardar Cambios"}),(0,a.jsx)("button",{type:"button",onClick:()=>d.push("/admin/tecnicos"),className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",children:"Cancelar"})]})]})]})}e.s(["default",()=>t])}]);