module.exports=[21848,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,a.i(40422).createClient)("https://aysoiacdxglzsuhtrfnp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5c29pYWNkeGdsenN1aHRyZm5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NDk2MjIsImV4cCI6MjA4MDAyNTYyMn0.5agJq8Jn_o2Mdwylq7LOHO0B8TAw2jJoJwnEjOsB950"),e=a=>new Date(a).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit",hour12:!1}),f=({msg:a,currentUser:d,onEdit:f,onDelete:g,isEditing:h,editText:i,onSaveEdit:j,onCancelEdit:k,onSetEditText:l})=>{var m;let n,o,[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null),s=a.sender_id===d?.id;return((0,c.useEffect)(()=>{let a=a=>{r.current&&!r.current.contains(a.target)&&q(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),h)?(0,b.jsx)("div",{className:`flex ${s?"justify-end":"justify-start"} mb-2`,children:(0,b.jsx)("div",{className:"max-w-xs lg:max-w-md w-full",children:(0,b.jsxs)("div",{className:"bg-blue-50 p-3 rounded-2xl rounded-br-none border border-blue-100",children:[(0,b.jsx)("textarea",{value:i,onChange:a=>l(a.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:3,autoFocus:!0,onKeyDown:b=>{"Enter"!==b.key||b.shiftKey||(b.preventDefault(),j(a.id)),"Escape"===b.key&&k()}}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 mt-2",children:[(0,b.jsx)("button",{onClick:()=>j(a.id),className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",disabled:!i.trim(),children:"âœ“ Guardar"}),(0,b.jsx)("button",{onClick:k,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg text-sm hover:bg-gray-300 transition-colors",children:"âœ• Cancelar"})]})]})})}):(0,b.jsx)("div",{className:`flex ${s?"justify-end":"justify-start"} mb-2 group`,children:(0,b.jsxs)("div",{className:"relative max-w-xs lg:max-w-md",ref:r,children:[(0,b.jsxs)("div",{className:`px-4 py-3 rounded-2xl ${s?"bg-blue-600 text-white rounded-br-none":"bg-white text-gray-900 rounded-bl-none shadow-sm"} hover:shadow-md transition-shadow`,children:[(0,b.jsx)("p",{className:"break-words whitespace-pre-wrap",children:a.message}),(0,b.jsx)("div",{className:"flex items-center justify-end mt-1",children:(0,b.jsxs)("span",{className:`text-xs ${s?"text-blue-200":"text-gray-400"}`,children:[(n=new Date(m=a.created_at),0===(o=Math.floor((new Date().getTime()-n.getTime())/864e5))?e(m):1===o?`Ayer ${e(m)}`:o<7?`${["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"][n.getDay()]} ${e(m)}`:`${n.getDate()}/${["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][n.getMonth()]} ${e(m)}`),a.read&&s&&" âœ“âœ“"]})})]}),(0,b.jsxs)("div",{className:`absolute top-0 ${s?"-left-8":"-right-8"} opacity-0 group-hover:opacity-100 transition-opacity`,children:[(0,b.jsx)("button",{onClick:()=>q(!p),className:"p-1.5 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),p&&(0,b.jsxs)("div",{className:`absolute ${s?"left-0":"right-0"} mt-1 bg-white shadow-lg rounded-lg py-1 z-50 w-40 border border-gray-100`,children:[s&&(0,b.jsxs)("button",{onClick:()=>{f(a),q(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-blue-50 flex items-center space-x-2 text-gray-700",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,b.jsx)("span",{children:"Editar"})]}),(0,b.jsxs)("button",{onClick:()=>{confirm("Â¿EstÃ¡s seguro de eliminar este mensaje para todos?")&&g(a.id),q(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-red-50 flex items-center space-x-2 text-red-600",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,b.jsx)("span",{children:"Eliminar para todos"})]}),(0,b.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,b.jsxs)("button",{onClick:()=>{q(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center space-x-2 text-gray-700",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),(0,b.jsx)("span",{children:"Responder"})]})]})]})]})})};function g(){let[a,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(0),F=(0,c.useRef)(null),G=(0,c.useRef)(null);(0,c.useEffect)(()=>{J();let b=setInterval(()=>{a&&(L(),l&&O(l))},3e4);return()=>clearInterval(b)},[a,l]),(0,c.useEffect)(()=>{a&&(console.log("âœ… Current user:",a),"admin"===a.rol&&K(),L())},[a]),(0,c.useEffect)(()=>{l&&(M(l),N(l))},[l]),(0,c.useEffect)(()=>{if(l&&a){let a=d.channel(`realtime-messages-${l}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`conversation_id=eq.${l}`},a=>{H(a)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`id=eq.${l}`},a=>{console.log("ðŸ”„ ConversaciÃ³n actualizada:",a.new),i(b=>b.map(b=>b.id===a.new.id?{...b,...a.new,last_message:a.new.last_message}:b))}).subscribe(a=>{console.log("ðŸ“¡ Canal de realtime:",a)});return()=>{d.removeChannel(a)}}},[l,a]);let H=(0,c.useCallback)(a=>{switch(console.log("ðŸ“¡ Evento realtime:",a.eventType,a.new),a.eventType){case"INSERT":o(b=>b.some(b=>b.id===a.new.id)?b:[...b,a.new]),I();break;case"UPDATE":o(b=>b.map(b=>b.id===a.new.id?a.new:b));break;case"DELETE":o(b=>b.filter(b=>b.id!==a.old.id))}},[]);(0,c.useEffect)(()=>{let a=setTimeout(()=>{C(!1)},1500);return()=>clearTimeout(a)},[p]);let I=()=>{setTimeout(()=>{F.current?.scrollIntoView({behavior:"smooth"})},100)},J=async()=>{try{let{data:{user:a},error:b}=await d.auth.getUser();if(b||!a){u("âŒ No hay usuario autenticado"),s(!1);return}let{data:c,error:e}=await d.from("usuarios").select("*").eq("id",a.id).maybeSingle();if(!c){console.log("âš ï¸ Usuario no existe en tabla usuarios, creando...");let{data:b,error:e}=await d.from("usuarios").insert({id:a.id,email:a.email,nombre:a.email?.split("@")[0]||"Usuario",rol:"tecnico",activo:!0}).select().single();if(e){console.error("âŒ Error creando usuario:",e),u("No se pudo crear el usuario en la base de datos. Error: "+e.message),s(!1);return}c=b}g(c),s(!1)}catch(a){console.error("âŒ Error:",a),u("Error general: "+a.message),s(!1)}},K=async()=>{try{let{data:a,error:b}=await d.from("usuarios").select("*").eq("rol","tecnico").order("nombre",{ascending:!0});if(b)throw b;k(a||[])}catch(a){console.error("âŒ Error cargando tÃ©cnicos:",a)}},L=async()=>{if(a)try{let b;b="admin"===a.rol?d.from("conversations").select("*").eq("admin_id",a.id).order("updated_at",{ascending:!1}):d.from("conversations").select("*").eq("technician_id",a.id).order("updated_at",{ascending:!1});let{data:c,error:e}=await b;if(e)throw e;if(c&&c.length>0){let b=await Promise.all(c.map(async b=>{let c="admin"===a.rol?b.technician_id:b.admin_id,{data:e}=await d.from("usuarios").select("nombre, email").eq("id",c).single(),{count:f}=await d.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",b.id).neq("sender_id",a.id).eq("read",!1);return{...b,other_user_name:e?.nombre||e?.email||"Usuario",unread_count:f||0}}));i(b)}else i([])}catch(a){console.error("âŒ Error cargando conversaciones:",a)}},M=async a=>{try{let{data:b,error:c}=await d.from("messages").select("*").eq("conversation_id",a).order("created_at",{ascending:!0});if(c)throw c;o(b||[]),setTimeout(I,100)}catch(a){console.error("âŒ Error cargando mensajes:",a)}},N=async b=>{if(a)try{await d.from("messages").update({read:!0}).eq("conversation_id",b).neq("sender_id",a.id),i(a=>a.map(a=>a.id===b?{...a,unread_count:0}:a))}catch(a){console.error("âŒ Error marcando mensajes como leÃ­dos:",a)}},O=async b=>{if(!a)return;let{count:c}=await d.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",b).neq("sender_id",a.id).eq("read",!1);i(a=>a.map(a=>a.id===b?{...a,unread_count:c||0}:a))},P=async b=>{if(a)try{let{data:c,error:e}=await d.from("conversations").select("*").eq("admin_id",a.id).eq("technician_id",b).maybeSingle();if(e)throw e;if(c)return void m(c.id);let{data:f,error:g}=await d.from("conversations").insert({admin_id:a.id,technician_id:b,last_message:""}).select().single();if(g)throw g;f&&(await L(),m(f.id),G.current&&(G.current.scrollTop=0))}catch(a){console.error("âŒ Error creando conversaciÃ³n:",a),u("Error al crear conversaciÃ³n: "+a.message)}},Q=async b=>{if(b.preventDefault(),!p.trim()||!l||!a||z)return;A(!0);let c=p.trim(),e="admin"===a.rol?"admin":"tecnico";try{let{error:b}=await d.from("messages").insert({conversation_id:l,sender_id:a.id,sender_type:e,message:c});if(b)throw b;await d.from("conversations").update({last_message:c,updated_at:new Date().toISOString()}).eq("id",l),q(""),C(!1),await L()}catch(a){console.error("âŒ Error enviando mensaje:",a),alert("Error al enviar mensaje: "+a.message)}finally{A(!1)}},R=async a=>{try{let{error:b}=await d.from("messages").delete().eq("id",a);if(b)throw b;console.log("âœ… Mensaje eliminado para todos")}catch(a){console.error("âŒ Error eliminando mensaje:",a),alert("Error al eliminar mensaje: "+a.message)}},S=a=>{w(a.id),y(a.message)},T=async a=>{if(x.trim())try{let{error:b}=await d.from("messages").update({message:x.trim()}).eq("id",a);if(b)throw b;w(null),y("")}catch(a){console.error("âŒ Error editando mensaje:",a),alert("Error al editar mensaje: "+a.message)}},U=()=>{w(null),y("")};return r?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 font-medium",children:"Cargando chat..."})]})}):t?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,b.jsx)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"âš ï¸"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error"}),(0,b.jsx)("p",{className:"text-gray-700 mb-6",children:t}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Recargar pÃ¡gina"})]})})}):a?(0,b.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,b.jsxs)("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col shadow-lg",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"ðŸ’¬ Mensajes"}),(0,b.jsx)("button",{onClick:L,className:"p-2 bg-white/20 hover:bg-white/30 rounded-full transition-colors",title:"Actualizar conversaciones",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,b.jsx)("p",{className:"text-sm text-blue-100 mb-2",children:a?.rol==="admin"?"Chat con TÃ©cnicos":"Chat con Admin"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold text-sm",children:a.nombre?.charAt(0).toUpperCase()})}),(0,b.jsx)("span",{className:"text-sm font-medium text-white",children:a.nombre}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-white/30 text-xs text-white rounded-full",children:a.rol})]})]}),a?.rol==="admin"&&(0,b.jsx)("div",{className:"p-4 border-b border-gray-200",children:0===j.length?(0,b.jsx)("div",{className:"text-center p-3 bg-yellow-50 rounded-xl border border-yellow-100",children:(0,b.jsx)("p",{className:"text-sm text-yellow-700 font-medium",children:"âš ï¸ No hay tÃ©cnicos disponibles"})}):(0,b.jsxs)("select",{onChange:a=>{a.target.value&&P(a.target.value)},value:"",className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all bg-white hover:border-gray-400",children:[(0,b.jsx)("option",{value:"",children:"âž• Nueva conversaciÃ³n"}),j.map(a=>(0,b.jsxs)("option",{value:a.id,children:["ðŸ‘¨â€ðŸ”§ ",a.nombre]},a.id))]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",ref:G,children:0===h.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸ’¬"})}),(0,b.jsx)("p",{className:"font-semibold text-gray-700 mb-2",children:"No hay conversaciones"}),"admin"===a.rol?(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Selecciona un tÃ©cnico arriba"}):(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Espera a que el admin te contacte"})]}):h.map(a=>{var c;let d,f;return(0,b.jsx)("div",{onClick:()=>m(a.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-all hover:bg-gray-50 active:bg-gray-100
                  ${l===a.id?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-l-blue-500":""}`,children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:a.other_user_name?.charAt(0).toUpperCase()}),a.unread_count>0&&(0,b.jsx)("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xs font-bold text-white",children:a.unread_count})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:a.other_user_name}),(0,b.jsx)("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:(d=new Date(c=a.updated_at),0===(f=Math.floor((new Date().getTime()-d.getTime())/864e5))?e(c):1===f?"Ayer":f<7?["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"][d.getDay()]:`${d.getDate()}/${d.getMonth()+1}`)})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 truncate mt-1",children:a.last_message||"Sin mensajes"})]})]})},a.id)})})]}),(0,b.jsx)("div",{className:"flex-1 flex flex-col",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-4 bg-white border-b border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:h.find(a=>a.id===l)?.other_user_name?.charAt(0).toUpperCase()}),(0,b.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:h.find(a=>a.id===l)?.other_user_name}),(0,b.jsxs)("p",{className:"text-sm text-green-600 font-medium flex items-center",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"En lÃ­nea â€¢ Activo ahora"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[B&&(0,b.jsx)("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm animate-pulse",children:"Escribiendo..."}),(0,b.jsx)("button",{onClick:()=>M(l),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",title:"Actualizar mensajes",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 bg-gradient-to-b from-gray-50 to-blue-50",children:0===n.length?(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ‘‹"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Â¡Inicia la conversaciÃ³n!"}),(0,b.jsx)("p",{className:"text-gray-500",children:"EnvÃ­a tu primer mensaje"})]})}):(0,b.jsxs)("div",{className:"space-y-2",children:[n.map(c=>(0,b.jsx)(f,{msg:c,currentUser:a,onEdit:S,onDelete:R,isEditing:v===c.id,editText:x,onSaveEdit:T,onCancelEdit:U,onSetEditText:y},c.id)),(0,b.jsx)("div",{ref:F})]})}),(0,b.jsx)("form",{onSubmit:Q,className:"p-4 bg-white border-t border-gray-200 shadow-lg",children:(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("input",{type:"text",value:p,onChange:a=>{q(a.target.value),C(!0),E(Date.now())},placeholder:"Escribe un mensaje...",className:"flex-1 p-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",disabled:z}),(0,b.jsx)("button",{type:"submit",disabled:!p.trim()||z,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed font-bold flex items-center space-x-2",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,b.jsx)("span",{children:"Enviando..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"Enviar"}),(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]})})]}):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:(0,b.jsxs)("div",{className:"text-center max-w-md",children:[(0,b.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,b.jsx)("span",{className:"text-6xl",children:"ðŸ’¬"})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Bienvenido al chat"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"admin"===a.rol?"Selecciona un tÃ©cnico para empezar a conversar":"Espera a que el administrador inicie una conversaciÃ³n contigo"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:"ðŸš€"}),(0,b.jsx)("p",{className:"font-medium",children:"Chat en tiempo real"})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ“±"}),(0,b.jsx)("p",{className:"font-medium",children:"Responsive design"})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:"ðŸ””"}),(0,b.jsx)("p",{className:"font-medium",children:"Notificaciones"})]}),(0,b.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("div",{className:"text-2xl mb-2",children:"âœï¸"}),(0,b.jsx)("p",{className:"font-medium",children:"Editar mensajes"})]})]})]})})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,b.jsxs)("div",{className:"text-center bg-white p-10 rounded-2xl shadow-xl",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ”’"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"No autenticado"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Por favor inicia sesiÃ³n"}),(0,b.jsx)("button",{onClick:()=>window.location.href="/login",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Ir a login"})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=components_ChatAdminTechnician_tsx_507ba920._.js.map