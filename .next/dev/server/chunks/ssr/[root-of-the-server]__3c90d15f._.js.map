{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/dashboard/page.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { supabase } from \"@/lib/supabase\"\r\n\r\nexport default function Dashboard() {\r\n\r\n  const [ubicaciones, setUbicaciones] = useState([])\r\n\r\n  useEffect(() => {\r\n    // Escuchar cambios en la tabla tecnicos\r\n    const canal = supabase\r\n      .channel(\"ubicaciones\")\r\n      .on(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"UPDATE\",\r\n          schema: \"public\",\r\n          table: \"tecnicos\",\r\n        },\r\n        (payload) => {\r\n          console.log(\"Cambio detectado:\", payload)\r\n          // Actualizar el estado\r\n          setUbicaciones((prev) => {\r\n            const actualizado = prev.filter(i => i.id !== payload.new.id)\r\n            return [...actualizado, payload.new]\r\n          })\r\n        }\r\n      )\r\n      .subscribe()\r\n\r\n    // Limpieza al salir de la pÃ¡gina\r\n    return () => {\r\n      supabase.removeChannel(canal)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-4\">\r\n      <h1 className=\"text-3xl font-bold\">Panel del Jefe</h1>\r\n\r\n      <h2 className=\"text-xl font-semibold\">Ubicaciones en tiempo real</h2>\r\n\r\n      <pre className=\"bg-gray-100 p-4 rounded-xl\">\r\n        {JSON.stringify(ubicaciones, null, 2)}\r\n      </pre>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IAEtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEjD,IAAA,kNAAS,EAAC;QACR,wCAAwC;QACxC,MAAM,QAAQ,2HAAQ,CACnB,OAAO,CAAC,eACR,EAAE,CACD,oBACA;YACE,OAAO;YACP,QAAQ;YACR,OAAO;QACT,GACA,CAAC;YACC,QAAQ,GAAG,CAAC,qBAAqB;YACjC,uBAAuB;YACvB,eAAe,CAAC;gBACd,MAAM,cAAc,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,QAAQ,GAAG,CAAC,EAAE;gBAC5D,OAAO;uBAAI;oBAAa,QAAQ,GAAG;iBAAC;YACtC;QACF,GAED,SAAS;QAEZ,iCAAiC;QACjC,OAAO;YACL,2HAAQ,CAAC,aAAa,CAAC;QACzB;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,8OAAC;gBAAI,WAAU;0BACZ,KAAK,SAAS,CAAC,aAAa,MAAM;;;;;;;;;;;;AAI3C"}}]
}