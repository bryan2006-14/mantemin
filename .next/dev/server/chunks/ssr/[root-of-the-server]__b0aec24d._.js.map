{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/tecnico/dashboard/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function DashboardTecnico() {\r\n  const [ordenes, setOrdenes] = useState([]);\r\n  const [ordenSeleccionada, setOrdenSeleccionada] = useState(null);\r\n  const [detallesOrden, setDetallesOrden] = useState({ maquina: null, cliente: null });\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [iniciandoTrabajo, setIniciandoTrabajo] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    verificarSesionYCargarOrdenes();\r\n  }, []);\r\n\r\n  // Suscripci√≥n en tiempo real para nuevas √≥rdenes\r\n  useEffect(() => {\r\n    if (user) {\r\n      const channel = supabase\r\n        .channel('ordenes-tecnico')\r\n        .on(\r\n          'postgres_changes',\r\n          {\r\n            event: 'INSERT',\r\n            schema: 'public',\r\n            table: 'ordenes',\r\n            filter: `tecnico_id=eq.${user.id}`\r\n          },\r\n          (payload) => {\r\n            console.log('üÜï Nueva orden asignada:', payload.new);\r\n            setOrdenes(prev => [payload.new, ...prev]);\r\n            alert('üéØ ¬°Tienes una nueva orden asignada!');\r\n          }\r\n        )\r\n        .subscribe();\r\n\r\n      return () => supabase.removeChannel(channel);\r\n    }\r\n  }, [user]);\r\n\r\n  async function verificarSesionYCargarOrdenes() {\r\n    try {\r\n      const { data: { session }, error: sessionError } = await supabase.auth.getSession();\r\n      \r\n      if (sessionError || !session) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n\r\n      setUser(session.user);\r\n      await cargarOrdenesDelTecnico(session.user);\r\n    } catch (err) {\r\n      console.error(\"Error:\", err);\r\n      setError(\"Error al cargar datos\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function cargarOrdenesDelTecnico(usuario) {\r\n    try {\r\n      console.time(\"‚è±Ô∏è Tiempo de carga\");\r\n      \r\n      // Buscar el t√©cnico en la tabla usuarios\r\n      const { data: tecnicoBD } = await supabase\r\n        .from(\"usuarios\")\r\n        .select(\"*\")\r\n        .eq(\"email\", usuario.email)\r\n        .eq(\"rol\", \"tecnico\")\r\n        .maybeSingle();\r\n\r\n      const tecnicoId = tecnicoBD?.id || usuario.id;\r\n      \r\n      if (tecnicoBD) {\r\n        console.log(\"‚úÖ T√©cnico encontrado:\", tecnicoBD.nombre);\r\n      }\r\n\r\n      // üöÄ Cargar SOLO √≥rdenes activas (asignada o en_progreso)\r\n      const { data: ordenesData, error: ordenesError } = await supabase\r\n        .from(\"ordenes\")\r\n        .select(`\r\n          *,\r\n          maquinas:maquina_id (\r\n            *,\r\n            clientes:cliente_id (*)\r\n          )\r\n        `)\r\n        .eq(\"tecnico_id\", tecnicoId)\r\n        .in(\"estado\", [\"asignada\", \"en_progreso\"])\r\n        .order(\"created_at\", { ascending: false })\r\n        .limit(50);\r\n\r\n      if (ordenesError) {\r\n        throw ordenesError;\r\n      }\r\n\r\n      console.log(`üìã ${ordenesData?.length || 0} √≥rdenes activas encontradas`);\r\n      console.timeEnd(\"‚è±Ô∏è Tiempo de carga\");\r\n      \r\n      setOrdenes(ordenesData || []);\r\n\r\n    } catch (error) {\r\n      console.error(\"Error al cargar √≥rdenes:\", error);\r\n      setError(\"Error al cargar √≥rdenes: \" + error.message);\r\n    }\r\n  }\r\n\r\n  async function verDetallesOrden(orden) {\r\n    setOrdenSeleccionada(orden);\r\n    \r\n    // Los datos ya vienen cargados de la consulta optimizada\r\n    setDetallesOrden({\r\n      maquina: orden.maquinas || null,\r\n      cliente: orden.maquinas?.clientes || null\r\n    });\r\n\r\n    // Scroll hacia los detalles\r\n    setTimeout(() => {\r\n      document.getElementById('detalles-orden')?.scrollIntoView({ \r\n        behavior: 'smooth', \r\n        block: 'start' \r\n      });\r\n    }, 100);\r\n  }\r\n\r\n  async function iniciarTrabajo() {\r\n    if (!ordenSeleccionada || !user) {\r\n      alert(\"Selecciona una orden primero\");\r\n      return;\r\n    }\r\n\r\n    if (ordenSeleccionada.estado !== \"asignada\") {\r\n      alert(\"Esta orden ya fue iniciada o completada\");\r\n      return;\r\n    }\r\n\r\n    setIniciandoTrabajo(true);\r\n\r\n    try {\r\n      const ahora = new Date().toISOString();\r\n\r\n      // 1. Actualizar el estado de la orden\r\n      const { error: updateError } = await supabase\r\n        .from(\"ordenes\")\r\n        .update({ \r\n          estado: \"en_progreso\",\r\n          fecha_inicio: ahora\r\n        })\r\n        .eq(\"id\", ordenSeleccionada.id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      // 2. Crear registro en el historial\r\n      const { error: historialError } = await supabase\r\n        .from(\"historial\")\r\n        .insert({\r\n          orden_id: ordenSeleccionada.id,\r\n          tecnico_id: user.id,\r\n          accion: \"iniciar_trabajo\",\r\n          detalles: `Trabajo iniciado el ${new Date().toLocaleString(\"es-ES\")}`,\r\n          fecha: ahora\r\n        });\r\n\r\n      if (historialError) {\r\n        console.warn(\"‚ö†Ô∏è No se pudo crear historial:\", historialError);\r\n      }\r\n\r\n      // 3. Actualizar la lista local\r\n      setOrdenes(prev => \r\n        prev.map(o => \r\n          o.id === ordenSeleccionada.id \r\n            ? { ...o, estado: \"en_progreso\", fecha_inicio: ahora }\r\n            : o\r\n        )\r\n      );\r\n\r\n      setOrdenSeleccionada(prev => ({ \r\n        ...prev, \r\n        estado: \"en_progreso\", \r\n        fecha_inicio: ahora \r\n      }));\r\n\r\n      alert(\"‚úÖ ¬°Trabajo iniciado correctamente!\\n\\nPuedes empezar a trabajar en la orden.\");\r\n\r\n      // Redirigir a la p√°gina de trabajo actual\r\n      router.push(`/tecnico/trabajo-actual?orden=${ordenSeleccionada.id}`);\r\n\r\n    } catch (error) {\r\n      console.error(\"‚ùå Error al iniciar trabajo:\", error);\r\n      alert(\"‚ùå Error al iniciar trabajo: \" + error.message);\r\n    } finally {\r\n      setIniciandoTrabajo(false);\r\n    }\r\n  }\r\n\r\n  async function cerrarSesion() {\r\n    await supabase.auth.signOut();\r\n    router.push(\"/login\");\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Cargando panel del t√©cnico...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded max-w-md\">\r\n          <p className=\"font-bold\">Error</p>\r\n          <p>{error}</p>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const ordenesAsignadas = ordenes.filter(o => o.estado === \"asignada\");\r\n  const ordenesEnProgreso = ordenes.filter(o => o.estado === \"en_progreso\");\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-800\">üîß Panel del T√©cnico</h1>\r\n            <p className=\"text-gray-600\">{user?.email}</p>\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\r\n            >\r\n              üîÑ Actualizar\r\n            </button>\r\n            <button\r\n              onClick={() => router.push(\"/tecnico/historial\")}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition\"\r\n            >\r\n              üìö Historial\r\n            </button>\r\n            <button\r\n              onClick={cerrarSesion}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\"\r\n            >\r\n              Cerrar Sesi√≥n\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Estad√≠sticas r√°pidas */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded shadow\">\r\n            <p className=\"text-sm text-gray-600\">Pendientes</p>\r\n            <p className=\"text-3xl font-bold text-yellow-700\">{ordenesAsignadas.length}</p>\r\n          </div>\r\n          <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded shadow\">\r\n            <p className=\"text-sm text-gray-600\">En Progreso</p>\r\n            <p className=\"text-3xl font-bold text-blue-700\">{ordenesEnProgreso.length}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lista de √ìrdenes */}\r\n        {ordenes.length === 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n            <div className=\"text-6xl mb-4\">üìã</div>\r\n            <h2 className=\"text-xl font-bold mb-2\">No tienes √≥rdenes activas</h2>\r\n            <p className=\"text-gray-600\">Las nuevas √≥rdenes aparecer√°n aqu√≠ autom√°ticamente.</p>\r\n            <button\r\n              onClick={() => router.push(\"/tecnico/historial\")}\r\n              className=\"mt-4 px-6 py-3 bg-gray-600 text-white rounded hover:bg-gray-700 transition\"\r\n            >\r\n              üìö Ver Historial de Trabajos\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {/* √ìrdenes Pendientes */}\r\n            {ordenesAsignadas.length > 0 && (\r\n              <div>\r\n                <h2 className=\"text-xl font-bold mb-3 flex items-center gap-2\">\r\n                  ‚ö†Ô∏è √ìrdenes Pendientes\r\n                  <span className=\"bg-yellow-500 text-white text-sm px-2 py-1 rounded-full\">\r\n                    {ordenesAsignadas.length}\r\n                  </span>\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  {ordenesAsignadas.map(orden => (\r\n                    <OrdenCard \r\n                      key={orden.id} \r\n                      orden={orden} \r\n                      onVerDetalles={verDetallesOrden}\r\n                      seleccionada={ordenSeleccionada?.id === orden.id}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* √ìrdenes En Progreso */}\r\n            {ordenesEnProgreso.length > 0 && (\r\n              <div>\r\n                <h2 className=\"text-xl font-bold mb-3 flex items-center gap-2\">\r\n                  üîÑ En Progreso\r\n                  <span className=\"bg-blue-500 text-white text-sm px-2 py-1 rounded-full\">\r\n                    {ordenesEnProgreso.length}\r\n                  </span>\r\n                </h2>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  {ordenesEnProgreso.map(orden => (\r\n                    <OrdenCard \r\n                      key={orden.id} \r\n                      orden={orden} \r\n                      onVerDetalles={verDetallesOrden}\r\n                      seleccionada={ordenSeleccionada?.id === orden.id}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Detalles de la Orden Seleccionada */}\r\n        {ordenSeleccionada && (\r\n          <div id=\"detalles-orden\" className=\"mt-8 space-y-6\">\r\n            <div className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg shadow-lg\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold mb-2\">üìã Detalles de la Orden</h2>\r\n                  <p className=\"opacity-90\">ID: #{ordenSeleccionada.id}</p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setOrdenSeleccionada(null)}\r\n                  className=\"bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded transition\"\r\n                >\r\n                  ‚úï Cerrar\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Informaci√≥n de la Orden */}\r\n            <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-bold\">Informaci√≥n del Trabajo</h3>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Creada: {new Date(ordenSeleccionada.created_at).toLocaleString(\"es-ES\")}\r\n                  </p>\r\n                </div>\r\n                <span className={`px-4 py-2 rounded-full text-sm font-medium ${\r\n                  ordenSeleccionada.prioridad === 'urgente' ? 'bg-red-100 text-red-800' :\r\n                  ordenSeleccionada.prioridad === 'alta' ? 'bg-orange-100 text-orange-800' :\r\n                  ordenSeleccionada.prioridad === 'media' ? 'bg-yellow-100 text-yellow-800' :\r\n                  'bg-blue-100 text-blue-800'\r\n                }`}>\r\n                  {ordenSeleccionada.prioridad}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                <div className=\"bg-gray-50 p-3 rounded\">\r\n                  <p className=\"text-sm text-gray-600\">Tipo de Trabajo</p>\r\n                  <p className=\"font-medium capitalize\">{ordenSeleccionada.tipo}</p>\r\n                </div>\r\n                <div className=\"bg-gray-50 p-3 rounded\">\r\n                  <p className=\"text-sm text-gray-600\">Estado</p>\r\n                  <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${\r\n                    ordenSeleccionada.estado === 'asignada' ? 'bg-yellow-100 text-yellow-800' :\r\n                    'bg-blue-100 text-blue-800'\r\n                  }`}>\r\n                    {ordenSeleccionada.estado === 'asignada' ? 'Pendiente' : 'En Progreso'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                <p className=\"text-sm text-gray-600 mb-2\">üìù Descripci√≥n</p>\r\n                <div className=\"bg-yellow-50 p-4 rounded border-l-4 border-yellow-400\">\r\n                  <p className=\"text-gray-800\">{ordenSeleccionada.descripcion || \"Sin descripci√≥n\"}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Botones de Acci√≥n */}\r\n              <div className=\"flex gap-3 mt-6\">\r\n                {ordenSeleccionada.estado === \"asignada\" && (\r\n                  <button\r\n                    onClick={iniciarTrabajo}\r\n                    disabled={iniciandoTrabajo}\r\n                    className=\"flex-1 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-bold shadow-lg hover:shadow-xl disabled:bg-gray-400\"\r\n                  >\r\n                    {iniciandoTrabajo ? \"‚è≥ Iniciando...\" : \"üöÄ Iniciar Trabajo\"}\r\n                  </button>\r\n                )}\r\n                \r\n                {ordenSeleccionada.estado === \"en_progreso\" && (\r\n                  <button\r\n                    onClick={() => router.push(`/tecnico/trabajo-actual?orden=${ordenSeleccionada.id}`)}\r\n                    className=\"flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-bold shadow-lg hover:shadow-xl\"\r\n                  >\r\n                    ‚ñ∂Ô∏è Continuar Trabajo\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Cliente */}\r\n            {detallesOrden.cliente && (\r\n              <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <h3 className=\"font-bold text-lg mb-4\">üë§ Informaci√≥n del Cliente</h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Nombre</p>\r\n                    <p className=\"font-medium\">{detallesOrden.cliente.nombre}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">RUC</p>\r\n                    <p className=\"font-medium\">{detallesOrden.cliente.ruc || \"N/A\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Tel√©fono</p>\r\n                    <p className=\"font-medium\">{detallesOrden.cliente.telefono || \"N/A\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Email</p>\r\n                    <p className=\"font-medium\">{detallesOrden.cliente.email || \"N/A\"}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* M√°quina */}\r\n            {detallesOrden.maquina && (\r\n              <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n                <h3 className=\"font-bold text-lg mb-4\">üöú Perfil de la M√°quina</h3>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  {detallesOrden.maquina.foto_url && (\r\n                    <div className=\"md:col-span-1\">\r\n                      <img\r\n                        src={detallesOrden.maquina.foto_url}\r\n                        alt={detallesOrden.maquina.codigo}\r\n                        className=\"w-full h-48 object-cover rounded-lg shadow\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className={detallesOrden.maquina.foto_url ? \"md:col-span-2\" : \"md:col-span-3\"}>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div className=\"bg-blue-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">C√≥digo</p>\r\n                        <p className=\"font-bold text-lg\">{detallesOrden.maquina.codigo}</p>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">Estado</p>\r\n                        <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${\r\n                          detallesOrden.maquina.estado === 'operativa' ? 'bg-green-100 text-green-800' :\r\n                          detallesOrden.maquina.estado === 'mantenimiento' ? 'bg-yellow-100 text-yellow-800' :\r\n                          'bg-red-100 text-red-800'\r\n                        }`}>\r\n                          {detallesOrden.maquina.estado}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">Marca</p>\r\n                        <p className=\"font-medium\">{detallesOrden.maquina.marca || \"N/A\"}</p>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">Modelo</p>\r\n                        <p className=\"font-medium\">{detallesOrden.maquina.modelo || \"N/A\"}</p>\r\n                      </div>\r\n                      <div className=\"bg-gray-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">Serie</p>\r\n                        <p className=\"font-medium\">{detallesOrden.maquina.serie || \"N/A\"}</p>\r\n                      </div>\r\n                      <div className=\"bg-green-50 p-3 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">Hor√≥metro</p>\r\n                        <p className=\"font-bold text-green-700\">{detallesOrden.maquina.horometro || 0} hrs</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Componente para cada card de orden\r\nfunction OrdenCard({ orden, onVerDetalles, seleccionada }) {\r\n  const estadoConfig = {\r\n    asignada: { bg: 'bg-yellow-50', border: 'border-yellow-300', text: 'text-yellow-800', badge: 'bg-yellow-500' },\r\n    en_progreso: { bg: 'bg-blue-50', border: 'border-blue-300', text: 'text-blue-800', badge: 'bg-blue-500' }\r\n  };\r\n\r\n  const config = estadoConfig[orden.estado] || estadoConfig.asignada;\r\n\r\n  return (\r\n    <div \r\n      className={`${config.bg} border-2 ${seleccionada ? 'border-blue-500' : config.border} rounded-lg p-4 hover:shadow-lg transition cursor-pointer`}\r\n      onClick={() => onVerDetalles(orden)}\r\n    >\r\n      <div className=\"flex justify-between items-start mb-3\">\r\n        <div>\r\n          <p className=\"text-xs text-gray-500\">Orden #{orden.id}</p>\r\n          <h3 className=\"font-bold text-lg capitalize\">{orden.tipo}</h3>\r\n        </div>\r\n        <span className={`${config.badge} text-white text-xs px-2 py-1 rounded-full`}>\r\n          {orden.prioridad}\r\n        </span>\r\n      </div>\r\n\r\n      <p className=\"text-sm text-gray-700 mb-3 line-clamp-2\">\r\n        {orden.descripcion || \"Sin descripci√≥n\"}\r\n      </p>\r\n\r\n      <div className=\"flex justify-between items-center\">\r\n        <span className={`text-xs font-medium ${config.text}`}>\r\n          {orden.estado === 'asignada' ? '‚è≥ Pendiente' : 'üîÑ En Progreso'}\r\n        </span>\r\n        <button\r\n          className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            onVerDetalles(orden);\r\n          }}\r\n        >\r\n          Ver Detalles ‚Üí\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}