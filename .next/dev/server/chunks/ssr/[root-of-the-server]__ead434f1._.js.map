{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/admin/ordenes/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\nexport default function OrdenesPage() {\r\n  const [ordenes, setOrdenes] = useState([]);\r\n\r\n  async function cargar() {\r\n    const { data } = await supabase\r\n      .from(\"ordenes\")\r\n      .select(\"*, maquinas(codigo), usuarios(nombre)\")\r\n      .order(\"id\", { ascending: false });\r\n    setOrdenes(data || []);\r\n  }\r\n\r\n  async function eliminar(id) {\r\n    if (!confirm(\"Eliminar OT?\")) return;\r\n    await supabase.from(\"ordenes\").delete().eq(\"id\", id);\r\n    cargar();\r\n  }\r\n\r\n  useEffect(() => { cargar(); }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h1 className=\"text-2xl font-bold\">Órdenes de Trabajo</h1>\r\n        <Link href=\"/admin/ordenes/crear\" className=\"bg-green-600 text-white px-3 py-1 rounded\">+ Crear OT</Link>\r\n      </div>\r\n\r\n      <table className=\"w-full mt-4 border\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th>ID</th><th>Máquina</th><th>Técnico</th><th>Fecha</th><th>Estado</th><th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ordenes.map(o => (\r\n            <tr key={o.id} className=\"border\">\r\n              <td className=\"p-2\">{o.id}</td>\r\n              <td className=\"p-2\">{o.maquinas?.codigo || \"—\"}</td>\r\n              <td className=\"p-2\">{o.nombre || o.tecnico_id || \"—\"}</td>\r\n              <td className=\"p-2\">{o.fecha ? new Date(o.fecha).toLocaleDateString() : \"—\"}</td>\r\n              <td className=\"p-2\">{o.estado}</td>\r\n              <td className=\"p-2 space-x-2\">\r\n                <Link href={`/admin/ordenes/${o.id}`} className=\"text-green-600\">Ver</Link>\r\n                <Link href={`/admin/ordenes/editar/${o.id}`} className=\"text-blue-600\">Editar</Link>\r\n                <button className=\"text-red-600\" onClick={() => eliminar(o.id)}>Eliminar</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEzC,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,iIAAQ,CAC5B,IAAI,CAAC,WACL,MAAM,CAAC,yCACP,KAAK,CAAC,MAAM;YAAE,WAAW;QAAM;QAClC,WAAW,QAAQ,EAAE;IACvB;IAEA,eAAe,SAAS,EAAE;QACxB,IAAI,CAAC,QAAQ,iBAAiB;QAC9B,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,GAAG,EAAE,CAAC,MAAM;QACjD;IACF;IAEA,IAAA,kNAAS,EAAC;QAAQ;IAAU,GAAG,EAAE;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC,uKAAI;wBAAC,MAAK;wBAAuB,WAAU;kCAA4C;;;;;;;;;;;;0BAG1F,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;;8CACC,8OAAC;8CAAG;;;;;;8CAAO,8OAAC;8CAAG;;;;;;8CAAY,8OAAC;8CAAG;;;;;;8CAAY,8OAAC;8CAAG;;;;;;8CAAU,8OAAC;8CAAG;;;;;;8CAAW,8OAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGhF,8OAAC;kCACE,QAAQ,GAAG,CAAC,CAAA,kBACX,8OAAC;gCAAc,WAAU;;kDACvB,8OAAC;wCAAG,WAAU;kDAAO,EAAE,EAAE;;;;;;kDACzB,8OAAC;wCAAG,WAAU;kDAAO,EAAE,QAAQ,EAAE,UAAU;;;;;;kDAC3C,8OAAC;wCAAG,WAAU;kDAAO,EAAE,MAAM,IAAI,EAAE,UAAU,IAAI;;;;;;kDACjD,8OAAC;wCAAG,WAAU;kDAAO,EAAE,KAAK,GAAG,IAAI,KAAK,EAAE,KAAK,EAAE,kBAAkB,KAAK;;;;;;kDACxE,8OAAC;wCAAG,WAAU;kDAAO,EAAE,MAAM;;;;;;kDAC7B,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,uKAAI;gDAAC,MAAM,CAAC,eAAe,EAAE,EAAE,EAAE,EAAE;gDAAE,WAAU;0DAAiB;;;;;;0DACjE,8OAAC,uKAAI;gDAAC,MAAM,CAAC,sBAAsB,EAAE,EAAE,EAAE,EAAE;gDAAE,WAAU;0DAAgB;;;;;;0DACvE,8OAAC;gDAAO,WAAU;gDAAe,SAAS,IAAM,SAAS,EAAE,EAAE;0DAAG;;;;;;;;;;;;;+BAT3D,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AAiBzB"}}]
}