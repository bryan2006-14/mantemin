{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/admin/ordenes/crear/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\nexport default function CrearOrden() {\r\n  const router = useRouter();\r\n  const [maquinas, setMaquinas] = useState([]);\r\n  const [tecnicos, setTecnicos] = useState([]);\r\n  const [form, setForm] = useState({ maquina_id: \"\", tecnico_id: \"\", cliente_id: \"\", descripcion: \"\", fecha: \"\" });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data: m } = await supabase.from(\"maquinas\").select(\"id,codigo\");\r\n      const { data: t } = await supabase.from(\"usuarios\").select(\"id,nombre\").eq(\"rol\",\"tecnico\");\r\n      const { data: c } = await supabase.from(\"clientes\").select(\"id,nombre\");\r\n      setMaquinas(m || []); setTecnicos(t || []); setForm(s => ({...s, fecha: new Date().toISOString().slice(0,10)}));\r\n    })();\r\n  }, []);\r\n\r\n  function handle(e) { setForm({...form, [e.target.name]: e.target.value}); }\r\n\r\n  async function guardar(e) {\r\n    e.preventDefault();\r\n    await supabase.from(\"ordenes\").insert({\r\n      maquina_id: form.maquina_id || null,\r\n      tecnico_id: form.tecnico_id || null,\r\n      cliente_id: form.cliente_id || null,\r\n      descripcion: form.descripcion,\r\n      fecha: form.fecha,\r\n      estado: \"pendiente\"\r\n    });\r\n    router.push(\"/admin/ordenes\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-lg\">\r\n      <h1 className=\"text-xl font-bold mb-4\">Crear Orden</h1>\r\n      <form onSubmit={guardar} className=\"space-y-3\">\r\n        <select name=\"maquina_id\" onChange={handle} className=\"border p-2 w-full\" required>\r\n          <option value=\"\">Selecciona máquina</option>\r\n          {maquinas.map(m=> <option key={m.id} value={m.id}>{m.codigo}</option>)}\r\n        </select>\r\n\r\n        <select name=\"tecnico_id\" onChange={handle} className=\"border p-2 w-full\">\r\n          <option value=\"\">Asignar técnico</option>\r\n          {tecnicos.map(t=> <option key={t.id} value={t.id}>{t.nombre}</option>)}\r\n        </select>\r\n\r\n        <select name=\"cliente_id\" onChange={handle} className=\"border p-2 w-full\">\r\n          <option value=\"\">Selecciona cliente</option>\r\n        </select>\r\n\r\n        <textarea name=\"descripcion\" onChange={handle} placeholder=\"Descripción\" className=\"border p-2 w-full\" />\r\n\r\n        <input type=\"date\" name=\"fecha\" value={form.fecha} onChange={handle} className=\"border p-2 w-full\" />\r\n\r\n        <button className=\"bg-green-600 text-white px-4 py-2 rounded\">Crear OT</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAAE,YAAY;QAAI,YAAY;QAAI,YAAY;QAAI,aAAa;QAAI,OAAO;IAAG;IAE9G,IAAA,kNAAS,EAAC;QACR,CAAC;YACC,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;YAC3D,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,aAAa,EAAE,CAAC,OAAM;YACjF,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;YAC3D,YAAY,KAAK,EAAE;YAAG,YAAY,KAAK,EAAE;YAAG,QAAQ,CAAA,IAAK,CAAC;oBAAC,GAAG,CAAC;oBAAE,OAAO,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAE;gBAAG,CAAC;QAC/G,CAAC;IACH,GAAG,EAAE;IAEL,SAAS,OAAO,CAAC;QAAI,QAAQ;YAAC,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAA;IAAI;IAE1E,eAAe,QAAQ,CAAC;QACtB,EAAE,cAAc;QAChB,MAAM,iIAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;YACpC,YAAY,KAAK,UAAU,IAAI;YAC/B,YAAY,KAAK,UAAU,IAAI;YAC/B,YAAY,KAAK,UAAU,IAAI;YAC/B,aAAa,KAAK,WAAW;YAC7B,OAAO,KAAK,KAAK;YACjB,QAAQ;QACV;QACA,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8OAAC;gBAAK,UAAU;gBAAS,WAAU;;kCACjC,8OAAC;wBAAO,MAAK;wBAAa,UAAU;wBAAQ,WAAU;wBAAoB,QAAQ;;0CAChF,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAA,kBAAI,8OAAC;oCAAkB,OAAO,EAAE,EAAE;8CAAG,EAAE,MAAM;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGrC,8OAAC;wBAAO,MAAK;wBAAa,UAAU;wBAAQ,WAAU;;0CACpD,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAA,kBAAI,8OAAC;oCAAkB,OAAO,EAAE,EAAE;8CAAG,EAAE,MAAM;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGrC,8OAAC;wBAAO,MAAK;wBAAa,UAAU;wBAAQ,WAAU;kCACpD,cAAA,8OAAC;4BAAO,OAAM;sCAAG;;;;;;;;;;;kCAGnB,8OAAC;wBAAS,MAAK;wBAAc,UAAU;wBAAQ,aAAY;wBAAc,WAAU;;;;;;kCAEnF,8OAAC;wBAAM,MAAK;wBAAO,MAAK;wBAAQ,OAAO,KAAK,KAAK;wBAAE,UAAU;wBAAQ,WAAU;;;;;;kCAE/E,8OAAC;wBAAO,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;AAItE"}}]
}