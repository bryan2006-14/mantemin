{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/mantemin2.0/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/mantemin2.0/app/admin/tecnicos/%5Bid%5D/delete/page.jsx"],"sourcesContent":["'use client'\r\nimport { useEffect, useState } from \"react\"\r\nimport { supabase } from \"@/lib/supabaseClient\"\r\nimport { useRouter, useParams } from \"next/navigation\"\r\n\r\nexport default function EliminarTecnicoPage() {\r\n  const [tecnico, setTecnico] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [deleting, setDeleting] = useState(false)\r\n  const router = useRouter()\r\n  const params = useParams()\r\n\r\n  useEffect(() => {\r\n    async function loadTecnico() {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from(\"usuarios\")\r\n          .select(\"id, nombre, email\")\r\n          .eq(\"id\", params.id)\r\n          .eq(\"rol\", \"tecnico\")\r\n          .single()\r\n\r\n        if (error) throw error\r\n        setTecnico(data)\r\n      } catch (error) {\r\n        alert(\"Error al cargar técnico: \" + error.message)\r\n        router.push(\"/admin/tecnicos\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    loadTecnico()\r\n  }, [params.id, router])\r\n\r\n  async function handleDelete() {\r\n    if (!confirm(\"¿Estás seguro de eliminar este técnico? Esta acción no se puede deshacer.\")) {\r\n      return\r\n    }\r\n\r\n    setDeleting(true)\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"usuarios\")\r\n        .delete()\r\n        .eq(\"id\", params.id)\r\n\r\n      if (error) throw error\r\n\r\n      alert(\"Técnico eliminado correctamente\")\r\n      router.push(\"/admin/tecnicos\")\r\n    } catch (error) {\r\n      alert(\"Error al eliminar técnico: \" + error.message)\r\n      setDeleting(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return <div className=\"p-10\">Cargando...</div>\r\n  }\r\n\r\n  if (!tecnico) {\r\n    return <div className=\"p-10\">Técnico no encontrado</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-10 max-w-2xl mx-auto\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow\">\r\n        <h1 className=\"text-2xl font-bold mb-4 text-red-600\">⚠️ Eliminar Técnico</h1>\r\n        \r\n        <div className=\"bg-red-50 border border-red-200 p-4 rounded mb-6\">\r\n          <p className=\"text-sm text-red-800 mb-2\">\r\n            Estás a punto de eliminar al siguiente técnico:\r\n          </p>\r\n          <div className=\"space-y-1\">\r\n            <p className=\"font-semibold\">{tecnico.nombre}</p>\r\n            <p className=\"text-gray-600\">{tecnico.email}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"text-gray-700 mb-6\">\r\n          Esta acción eliminará permanentemente este técnico del sistema. \r\n          No podrás recuperar esta información.\r\n        </p>\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={handleDelete}\r\n            disabled={deleting}\r\n            className=\"flex-1 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition disabled:bg-gray-400\"\r\n          >\r\n            {deleting ? \"Eliminando...\" : \"Sí, eliminar técnico\"}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => router.push(\"/admin/tecnicos\")}\r\n            disabled={deleting}\r\n            className=\"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition disabled:bg-gray-400\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,qBACP,EAAE,CAAC,MAAM,OAAO,EAAE,EAClB,EAAE,CAAC,OAAO,WACV,MAAM;gBAET,IAAI,OAAO,MAAM;gBACjB,WAAW;YACb,EAAE,OAAO,OAAO;gBACd,MAAM,8BAA8B,MAAM,OAAO;gBACjD,OAAO,IAAI,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC,OAAO,EAAE;QAAE;KAAO;IAEtB,eAAe;QACb,IAAI,CAAC,QAAQ,8EAA8E;YACzF;QACF;QAEA,YAAY;QAEZ,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iIAAQ,CAC7B,IAAI,CAAC,YACL,MAAM,GACN,EAAE,CAAC,MAAM,OAAO,EAAE;YAErB,IAAI,OAAO,MAAM;YAEjB,MAAM;YACN,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,MAAM,gCAAgC,MAAM,OAAO;YACnD,YAAY;QACd;IACF;IAEA,IAAI,SAAS;QACX,qBAAO,8OAAC;YAAI,WAAU;sBAAO;;;;;;IAC/B;IAEA,IAAI,CAAC,SAAS;QACZ,qBAAO,8OAAC;YAAI,WAAU;sBAAO;;;;;;IAC/B;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAuC;;;;;;8BAErD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAA4B;;;;;;sCAGzC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAiB,QAAQ,MAAM;;;;;;8CAC5C,8OAAC;oCAAE,WAAU;8CAAiB,QAAQ,KAAK;;;;;;;;;;;;;;;;;;8BAI/C,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAKlC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,WAAW,kBAAkB;;;;;;sCAEhC,8OAAC;4BACC,MAAK;4BACL,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,UAAU;4BACV,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}}]
}