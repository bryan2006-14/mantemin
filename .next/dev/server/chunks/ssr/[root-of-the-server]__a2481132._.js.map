{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/tecnico/tablero/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\nexport default function TableroTecnico() {\r\n  const [tareas, setTareas] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n\r\n  async function cargarUsuario() {\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    setUser(user);\r\n    return user;\r\n  }\r\n\r\n  async function cargarTareas(uid) {\r\n    const { data } = await supabase\r\n      .from(\"tareas\")\r\n      .select(\"*, ordenes(*), maquinas(*)\")\r\n      .eq(\"tecnico_id\", uid);\r\n\r\n    setTareas(data || []);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const u = await cargarUsuario();\r\n      if (u) cargarTareas(u.id);\r\n    })();\r\n  }, []);\r\n\r\n  const columnas = {\r\n    pendiente: tareas.filter(t => t.estado === \"pendiente\"),\r\n    proceso: tareas.filter(t => t.estado === \"proceso\"),\r\n    finalizado: tareas.filter(t => t.estado === \"finalizado\"),\r\n  };\r\n\r\n  async function moverTarea(id, nuevoEstado) {\r\n    await supabase.from(\"tareas\").update({ estado: nuevoEstado }).eq(\"id\", id);\r\n    cargarTareas(user.id);\r\n  }\r\n\r\n  const renderColumna = (titulo, lista, estado) => (\r\n    <div className=\"w-full bg-gray-100 p-3 rounded-lg\">\r\n      <h2 className=\"text-lg font-bold mb-3 text-gray-700\">{titulo}</h2>\r\n      <div className=\"space-y-3\">\r\n        {lista.map(t => (\r\n          <div\r\n            key={t.id}\r\n            className=\"bg-white p-3 rounded shadow cursor-pointer hover:bg-gray-50\"\r\n          >\r\n            <Link href={`/tecnico/tarea/${t.id}`}>\r\n              <div>\r\n                <p className=\"font-bold\">{t.titulo}</p>\r\n                <p className=\"text-sm text-gray-500\">\r\n                  Máquina: {t.maquinas?.codigo || \"—\"}\r\n                </p>\r\n              </div>\r\n            </Link>\r\n\r\n            {/* Botones rápidos de mover */}\r\n            <div className=\"flex gap-2 mt-2\">\r\n              {estado !== \"pendiente\" && (\r\n                <button className=\"text-xs bg-gray-300 px-2 py-1 rounded\"\r\n                  onClick={() => moverTarea(t.id, \"pendiente\")}\r\n                >Pend</button>\r\n              )}\r\n\r\n              {estado !== \"proceso\" && (\r\n                <button className=\"text-xs bg-blue-300 px-2 py-1 rounded\"\r\n                  onClick={() => moverTarea(t.id, \"proceso\")}\r\n                >Proc</button>\r\n              )}\r\n\r\n              {estado !== \"finalizado\" && (\r\n                <button className=\"text-xs bg-green-300 px-2 py-1 rounded\"\r\n                  onClick={() => moverTarea(t.id, \"finalizado\")}\r\n                >Fin</button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-6 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n      {renderColumna(\"Pendiente\", columnas.pendiente, \"pendiente\")}\r\n      {renderColumna(\"En proceso\", columnas.proceso, \"proceso\")}\r\n      {renderColumna(\"Finalizado\", columnas.finalizado, \"finalizado\")}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,eAAe;QACb,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,QAAQ;QACR,OAAO;IACT;IAEA,eAAe,aAAa,GAAG;QAC7B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,iIAAQ,CAC5B,IAAI,CAAC,UACL,MAAM,CAAC,8BACP,EAAE,CAAC,cAAc;QAEpB,UAAU,QAAQ,EAAE;IACtB;IAEA,IAAA,kNAAS,EAAC;QACR,CAAC;YACC,MAAM,IAAI,MAAM;YAChB,IAAI,GAAG,aAAa,EAAE,EAAE;QAC1B,CAAC;IACH,GAAG,EAAE;IAEL,MAAM,WAAW;QACf,WAAW,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QAC3C,SAAS,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;QACzC,YAAY,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAC9C;IAEA,eAAe,WAAW,EAAE,EAAE,WAAW;QACvC,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC;YAAE,QAAQ;QAAY,GAAG,EAAE,CAAC,MAAM;QACvE,aAAa,KAAK,EAAE;IACtB;IAEA,MAAM,gBAAgB,CAAC,QAAQ,OAAO,uBACpC,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAA,kBACT,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC,uKAAI;oCAAC,MAAM,CAAC,eAAe,EAAE,EAAE,EAAE,EAAE;8CAClC,cAAA,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAAa,EAAE,MAAM;;;;;;0DAClC,8OAAC;gDAAE,WAAU;;oDAAwB;oDACzB,EAAE,QAAQ,EAAE,UAAU;;;;;;;;;;;;;;;;;;8CAMtC,8OAAC;oCAAI,WAAU;;wCACZ,WAAW,6BACV,8OAAC;4CAAO,WAAU;4CAChB,SAAS,IAAM,WAAW,EAAE,EAAE,EAAE;sDACjC;;;;;;wCAGF,WAAW,2BACV,8OAAC;4CAAO,WAAU;4CAChB,SAAS,IAAM,WAAW,EAAE,EAAE,EAAE;sDACjC;;;;;;wCAGF,WAAW,8BACV,8OAAC;4CAAO,WAAU;4CAChB,SAAS,IAAM,WAAW,EAAE,EAAE,EAAE;sDACjC;;;;;;;;;;;;;2BA7BA,EAAE,EAAE;;;;;;;;;;;;;;;;IAsCnB,qBACE,8OAAC;QAAI,WAAU;;YACZ,cAAc,aAAa,SAAS,SAAS,EAAE;YAC/C,cAAc,cAAc,SAAS,OAAO,EAAE;YAC9C,cAAc,cAAc,SAAS,UAAU,EAAE;;;;;;;AAGxD"}}]
}