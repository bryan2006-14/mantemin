{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/admin/maquinas/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport supabase from \"@/utils/supabase\";\r\n\r\nexport default function MaquinasPage() {\r\n  const [maquinas, setMaquinas] = useState([]);\r\n\r\n  async function cargar() {\r\n    const { data } = await supabase\r\n      .from(\"maquinas\")\r\n      .select(\"*, clientes(nombre)\")\r\n      .order(\"id\");\r\n\r\n    setMaquinas(data || []);\r\n  }\r\n\r\n  async function eliminar(id) {\r\n    await supabase.from(\"maquinas\").delete().eq(\"id\", id);\r\n    cargar();\r\n  }\r\n\r\n  useEffect(() => {\r\n    cargar();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-xl font-bold mb-4\">Máquinas</h1>\r\n\r\n      <Link\r\n        href=\"/admin/maquinas/crear\"\r\n        className=\"bg-blue-600 text-white px-3 py-1 rounded\"\r\n      >\r\n        + Nueva Máquina\r\n      </Link>\r\n\r\n      <table className=\"w-full mt-4 border\">\r\n        <thead className=\"bg-gray-200\">\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Código</th>\r\n            <th>Marca</th>\r\n            <th>Modelo</th>\r\n            <th>Cliente</th>\r\n            <th>Estado</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {maquinas.map((m) => (\r\n            <tr key={m.id} className=\"border\">\r\n              <td>{m.id}</td>\r\n              <td>{m.codigo}</td>\r\n              <td>{m.marca}</td>\r\n              <td>{m.modelo}</td>\r\n              <td>{m.clientes?.nombre || \"—\"}</td>\r\n              <td>{m.estado}</td>\r\n\r\n              <td className=\"space-x-2\">\r\n                <Link\r\n                  className=\"text-blue-600\"\r\n                  href={`/admin/maquinas/editar/${m.id}`}\r\n                >\r\n                  Editar\r\n                </Link>\r\n\r\n                <button\r\n                  className=\"text-red-600\"\r\n                  onClick={() => eliminar(m.id)}\r\n                >\r\n                  Eliminar\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;AAFA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAE3C,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,uBACP,KAAK,CAAC;QAET,YAAY,QAAQ,EAAE;IACxB;IAEA,eAAe,SAAS,EAAE;QACxB,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,GAAG,EAAE,CAAC,MAAM;QAClD;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAU;0BACX;;;;;;0BAID,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;;8CACC,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;kCAIR,8OAAC;kCACE,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;gCAAc,WAAU;;kDACvB,8OAAC;kDAAI,EAAE,EAAE;;;;;;kDACT,8OAAC;kDAAI,EAAE,MAAM;;;;;;kDACb,8OAAC;kDAAI,EAAE,KAAK;;;;;;kDACZ,8OAAC;kDAAI,EAAE,MAAM;;;;;;kDACb,8OAAC;kDAAI,EAAE,QAAQ,EAAE,UAAU;;;;;;kDAC3B,8OAAC;kDAAI,EAAE,MAAM;;;;;;kDAEb,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC,uKAAI;gDACH,WAAU;gDACV,MAAM,CAAC,uBAAuB,EAAE,EAAE,EAAE,EAAE;0DACvC;;;;;;0DAID,8OAAC;gDACC,WAAU;gDACV,SAAS,IAAM,SAAS,EAAE,EAAE;0DAC7B;;;;;;;;;;;;;+BAnBI,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AA6BzB"}}]
}