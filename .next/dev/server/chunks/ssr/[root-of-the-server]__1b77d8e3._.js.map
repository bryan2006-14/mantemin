{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uMAAY"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/tecnico/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabaseClient\"\r\n\r\nexport default function DashboardTecnico() {\r\n  const [orden, setOrden] = useState(null);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    obtenerOT();\r\n  }, []);\r\n\r\n  async function obtenerOT() {\r\n    const user = (await supabase.auth.getUser()).data.user;\r\n    const { data } = await supabase\r\n      .from(\"ordenes\")\r\n      .select(\"*\")\r\n      .eq(\"tecnico_id\", user.id)\r\n      .eq(\"estado\", \"asignada\")\r\n      .maybeSingle();\r\n\r\n    setOrden(data);\r\n  }\r\n\r\n  async function iniciar() {\r\n    await supabase.from(\"tareas\").insert({\r\n      tecnico_id: orden.tecnico_id,\r\n      orden_id: orden.id,\r\n      estado: \"trabajando\",\r\n      inicio: new Date()\r\n    });\r\n\r\n    setMsg(\"Trabajo iniciado ✔\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-xl font-bold\">Panel del Técnico</h1>\r\n\r\n      {orden ? (\r\n        <div className=\"mt-4 p-4 bg-white shadow rounded-xl\">\r\n          <h2 className=\"font-bold\">OT #{orden.id}</h2>\r\n          <p>{orden.descripcion}</p>\r\n\r\n          <button onClick={iniciar}\r\n            className=\"bg-green-600 text-white mt-4 p-2 rounded\">\r\n            Iniciar Trabajo\r\n          </button>\r\n\r\n          {msg && <p className=\"text-green-600 mt-3\">{msg}</p>}\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-gray-600 mt-4\">No tienes OT asignadas.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAE/B,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,MAAM,OAAO,CAAC,MAAM,iIAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,IAAI;QACtD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,iIAAQ,CAC5B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,KAAK,EAAE,EACxB,EAAE,CAAC,UAAU,YACb,WAAW;QAEd,SAAS;IACX;IAEA,eAAe;QACb,MAAM,iIAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC;YACnC,YAAY,MAAM,UAAU;YAC5B,UAAU,MAAM,EAAE;YAClB,QAAQ;YACR,QAAQ,IAAI;QACd;QAEA,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAoB;;;;;;YAEjC,sBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;;4BAAY;4BAAK,MAAM,EAAE;;;;;;;kCACvC,8OAAC;kCAAG,MAAM,WAAW;;;;;;kCAErB,8OAAC;wBAAO,SAAS;wBACf,WAAU;kCAA2C;;;;;;oBAItD,qBAAO,8OAAC;wBAAE,WAAU;kCAAuB;;;;;;;;;;;qCAG9C,8OAAC;gBAAE,WAAU;0BAAqB;;;;;;;;;;;;AAI1C"}}]
}