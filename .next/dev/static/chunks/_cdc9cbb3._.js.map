{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabase.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n);\r\n\r\n// PARA ADMIN — SOLO SE USA EN SERVIDOR\r\nexport const supabaseAdmin = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY\r\n);\r\n"],"names":[],"mappings":";;;;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,0MAAY;AAM7B,MAAM,gBAAgB,IAAA,0MAAY,gFAEvC,2KAAO,CAAC,GAAG,CAAC,yBAAyB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/admin/crear-ot/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function CrearOT() {\r\n  const [descripcion, setDescripcion] = useState(\"\");\r\n  const [clienteId, setClienteId] = useState(\"\");\r\n  const [maquinaId, setMaquinaId] = useState(\"\");\r\n  const [clientes, setClientes] = useState([]);\r\n  const [maquinas, setMaquinas] = useState([]);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    cargarClientes();\r\n    cargarMaquinas();\r\n  }, []);\r\n\r\n  async function cargarClientes() {\r\n    const { data } = await supabase.from(\"clientes\").select(\"*\");\r\n    setClientes(data);\r\n  }\r\n\r\n  async function cargarMaquinas() {\r\n    const { data } = await supabase.from(\"maquinas\").select(\"*\");\r\n    setMaquinas(data);\r\n  }\r\n\r\n  async function crearOT(e) {\r\n    e.preventDefault();\r\n\r\n    await supabase.from(\"ordenes\").insert({\r\n      cliente_id: clienteId,\r\n      maquina_id: maquinaId,\r\n      descripcion,\r\n      estado: \"pendiente\",\r\n      fecha: new Date()\r\n    });\r\n\r\n    setMsg(\"Orden creada ✔\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-lg mx-auto\">\r\n\r\n      <h1 className=\"text-xl font-bold mb-4\">Crear Orden de Trabajo</h1>\r\n\r\n      <form onSubmit={crearOT} className=\"flex flex-col gap-4\">\r\n\r\n        <select value={clienteId}\r\n          onChange={e => setClienteId(e.target.value)}\r\n          className=\"border p-2 rounded\">\r\n          <option>Selecciona cliente</option>\r\n          {clientes.map(c => <option key={c.id} value={c.id}>{c.nombre}</option>)}\r\n        </select>\r\n\r\n        <select value={maquinaId}\r\n          onChange={e => setMaquinaId(e.target.value)}\r\n          className=\"border p-2 rounded\">\r\n          <option>Selecciona máquina</option>\r\n          {maquinas.map(m => <option key={m.id} value={m.id}>{m.codigo}</option>)}\r\n        </select>\r\n\r\n        <textarea rows=\"3\" placeholder=\"Descripción\"\r\n          value={descripcion}\r\n          onChange={e => setDescripcion(e.target.value)}\r\n          className=\"border p-2 rounded\" />\r\n\r\n        <button className=\"bg-blue-600 text-white py-2 rounded\">\r\n          Crear OT\r\n        </button>\r\n\r\n        {msg && <p className=\"text-green-600\">{msg}</p>}\r\n      </form>\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAC;IAE/B,IAAA,0KAAS;6BAAC;YACR;YACA;QACF;4BAAG,EAAE;IAEL,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;QACxD,YAAY;IACd;IAEA,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;QACxD,YAAY;IACd;IAEA,eAAe,QAAQ,CAAC;QACtB,EAAE,cAAc;QAEhB,MAAM,8HAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;YACpC,YAAY;YACZ,YAAY;YACZ;YACA,QAAQ;YACR,OAAO,IAAI;QACb;QAEA,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6LAAC;gBAAK,UAAU;gBAAS,WAAU;;kCAEjC,6LAAC;wBAAO,OAAO;wBACb,UAAU,CAAA,IAAK,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC1C,WAAU;;0CACV,6LAAC;0CAAO;;;;;;4BACP,SAAS,GAAG,CAAC,CAAA,kBAAK,6LAAC;oCAAkB,OAAO,EAAE,EAAE;8CAAG,EAAE,MAAM;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGtC,6LAAC;wBAAO,OAAO;wBACb,UAAU,CAAA,IAAK,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC1C,WAAU;;0CACV,6LAAC;0CAAO;;;;;;4BACP,SAAS,GAAG,CAAC,CAAA,kBAAK,6LAAC;oCAAkB,OAAO,EAAE,EAAE;8CAAG,EAAE,MAAM;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGtC,6LAAC;wBAAS,MAAK;wBAAI,aAAY;wBAC7B,OAAO;wBACP,UAAU,CAAA,IAAK,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC5C,WAAU;;;;;;kCAEZ,6LAAC;wBAAO,WAAU;kCAAsC;;;;;;oBAIvD,qBAAO,6LAAC;wBAAE,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAK/C;GAxEwB;KAAA"}}]
}