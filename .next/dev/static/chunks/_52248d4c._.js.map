{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/mantemin2.0/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,0MAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/mantemin2.0/app/tecnico/trabajo-actual/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState, Suspense } from \"react\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\n\r\n// Componente principal envuelto en Suspense\r\nexport default function TrabajoActualPage() {\r\n  return (\r\n    <Suspense fallback={<LoadingSpinner />}>\r\n      <TrabajoActualContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\n// Componente de carga\r\nfunction LoadingSpinner() {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n      <div className=\"text-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n        <p className=\"text-gray-600\">Cargando trabajo actual...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Componente de contenido que usa useSearchParams\r\nfunction TrabajoActualContent() {\r\n  const [orden, setOrden] = useState(null);\r\n  const [maquina, setMaquina] = useState(null);\r\n  const [cliente, setCliente] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const [tecnicoId, setTecnicoId] = useState(null); // ‚Üê AGREGADO\r\n  const [loading, setLoading] = useState(true);\r\n  const [observaciones, setObservaciones] = useState(\"\");\r\n  const [finalizando, setFinalizando] = useState(false);\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    cargarTrabajoActual();\r\n  }, [searchParams]);\r\n\r\n  async function cargarTrabajoActual() {\r\n    try {\r\n      // Verificar sesi√≥n\r\n      const { data: { session } } = await supabase.auth.getSession();\r\n      if (!session) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n\r\n      setUser(session.user);\r\n\r\n      // Buscar t√©cnico en BD\r\n      const { data: tecnicoBD } = await supabase\r\n        .from(\"usuarios\")\r\n        .select(\"*\")\r\n        .eq(\"email\", session.user.email)\r\n        .eq(\"rol\", \"tecnico\")\r\n        .maybeSingle();\r\n\r\n      const idTecnico = tecnicoBD?.id || session.user.id;\r\n      setTecnicoId(idTecnico); // ‚Üê GUARDAR ID DEL T√âCNICO\r\n      \r\n      const ordenId = searchParams.get('orden');\r\n      \r\n      // Buscar orden en progreso\r\n      let ordenData;\r\n      \r\n      if (ordenId) {\r\n        // Buscar por ID espec√≠fico\r\n        const { data } = await supabase\r\n          .from(\"ordenes\")\r\n          .select(\"*\")\r\n          .eq(\"id\", ordenId)\r\n          .eq(\"tecnico_id\", idTecnico)\r\n          .single();\r\n        \r\n        ordenData = data;\r\n      } else {\r\n        // Buscar la √∫ltima orden en progreso\r\n        const { data } = await supabase\r\n          .from(\"ordenes\")\r\n          .select(\"*\")\r\n          .eq(\"tecnico_id\", idTecnico)\r\n          .eq(\"estado\", \"en_progreso\")\r\n          .order(\"created_at\", { ascending: false })\r\n          .limit(1)\r\n          .maybeSingle();\r\n        \r\n        ordenData = data;\r\n      }\r\n\r\n      if (!ordenData) {\r\n        alert(\"No tienes trabajos en progreso\");\r\n        router.push(\"/tecnico\");\r\n        return;\r\n      }\r\n\r\n      setOrden(ordenData);\r\n\r\n      // Cargar detalles de la m√°quina\r\n      const { data: maquinaData } = await supabase\r\n        .from(\"maquinas\")\r\n        .select(\"*\")\r\n        .eq(\"id\", ordenData.maquina_id)\r\n        .maybeSingle();\r\n\r\n      if (maquinaData) {\r\n        setMaquina(maquinaData);\r\n        \r\n        // Cargar cliente\r\n        if (maquinaData.cliente_id) {\r\n          const { data: clienteData } = await supabase\r\n            .from(\"clientes\")\r\n            .select(\"*\")\r\n            .eq(\"id\", maquinaData.cliente_id)\r\n            .maybeSingle();\r\n          \r\n          setCliente(clienteData);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Error al cargar trabajo: \" + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function finalizarTrabajo() {\r\n    if (!orden || !observaciones.trim()) {\r\n      alert(\"‚ö†Ô∏è Por favor ingresa observaciones antes de finalizar\");\r\n      return;\r\n    }\r\n\r\n    if (observaciones.trim().length < 20) {\r\n      alert(\"‚ö†Ô∏è Las observaciones deben tener al menos 20 caracteres\");\r\n      return;\r\n    }\r\n\r\n    const confirmacion = confirm(`¬øEst√°s seguro de finalizar este trabajo?\r\n\r\nOrden: #${orden.id}\r\nTipo: ${orden.tipo}\r\n\r\nEsto marcar√° el trabajo como completado.`);\r\n    \r\n    if (!confirmacion) return;\r\n\r\n    setFinalizando(true);\r\n    \r\n    try {\r\n      const ahora = new Date().toISOString();\r\n\r\n      console.log(\"üìã Finalizando orden:\", orden.id);\r\n      console.log(\"üë§ T√©cnico ID:\", tecnicoId);\r\n      console.log(\"üìù Observaciones:\", observaciones);\r\n\r\n      // 1. Actualizar orden a completada\r\n      const { error: ordenError } = await supabase\r\n        .from(\"ordenes\")\r\n        .update({ \r\n          estado: \"completada\",\r\n          fecha_fin: ahora,\r\n          observaciones: observaciones\r\n        })\r\n        .eq(\"id\", orden.id);\r\n\r\n      if (ordenError) {\r\n        console.error(\"Error al actualizar orden:\", ordenError);\r\n        throw ordenError;\r\n      }\r\n\r\n      console.log(\"‚úÖ Orden actualizada correctamente\");\r\n\r\n      // 2. Registrar en historial (solo si la tabla existe)\r\n      try {\r\n        const { error: historialError } = await supabase\r\n          .from(\"historial\")\r\n          .insert({\r\n            orden_id: orden.id,\r\n            tecnico_id: tecnicoId, // ‚Üê USAR tecnicoId en lugar de user.id\r\n            accion: \"finalizar_trabajo\",\r\n            detalles: `Trabajo completado. Observaciones: ${observaciones}`,\r\n            fecha: ahora\r\n          });\r\n\r\n        if (historialError) {\r\n          console.warn(\"‚ö†Ô∏è No se pudo crear historial (tabla puede no existir):\", historialError.message);\r\n          // No lanzamos error, solo advertencia\r\n        } else {\r\n          console.log(\"‚úÖ Historial registrado\");\r\n        }\r\n      } catch (histError) {\r\n        console.warn(\"‚ö†Ô∏è Error al registrar historial:\", histError.message);\r\n        // Continuamos aunque falle el historial\r\n      }\r\n\r\n      alert(\"‚úÖ ¬°Trabajo finalizado correctamente!\\n\\nLa orden se ha movido al historial.\");\r\n      \r\n      // Redirigir al dashboard\r\n      router.push(\"/tecnico\");\r\n      \r\n    } catch (error) {\r\n      console.error(\"‚ùå Error al finalizar:\", error);\r\n      alert(\"‚ùå Error al finalizar: \" + (error.message || \"Error desconocido\"));\r\n    } finally {\r\n      setFinalizando(false);\r\n    }\r\n  }\r\n\r\n  async function cancelarTrabajo() {\r\n    const confirmacion = confirm(`‚ö†Ô∏è ¬øEst√°s seguro de cancelar este trabajo?\r\n\r\nEsto devolver√° la orden al estado \"Pendiente\" y podr√°s iniciarla nuevamente despu√©s.`);\r\n    \r\n    if (!confirmacion) return;\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"ordenes\")\r\n        .update({ \r\n          estado: \"asignada\",\r\n          fecha_inicio: null\r\n        })\r\n        .eq(\"id\", orden.id);\r\n\r\n      if (error) throw error;\r\n\r\n      // Registrar en historial (solo si existe)\r\n      try {\r\n        await supabase\r\n          .from(\"historial\")\r\n          .insert({\r\n            orden_id: orden.id,\r\n            tecnico_id: tecnicoId,\r\n            accion: \"cancelar_trabajo\",\r\n            detalles: \"Trabajo cancelado por el t√©cnico\",\r\n            fecha: new Date().toISOString()\r\n          });\r\n      } catch (histError) {\r\n        console.warn(\"‚ö†Ô∏è No se pudo registrar en historial:\", histError.message);\r\n      }\r\n      \r\n      alert(\"‚è∏Ô∏è Trabajo cancelado. La orden volver√° a estar disponible.\");\r\n      router.push(\"/tecnico\");\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      alert(\"Error al cancelar: \" + error.message);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (!orden) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-6xl mb-4\">üìã</div>\r\n          <h2 className=\"text-xl font-bold mb-2\">No hay trabajo en progreso</h2>\r\n          <button\r\n            onClick={() => router.push(\"/tecnico\")}\r\n            className=\"mt-4 px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n          >\r\n            Volver al Panel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">üöÄ Trabajo en Progreso</h1>\r\n            <p className=\"text-gray-600\">Orden #{orden?.id}</p>\r\n          </div>\r\n          <button\r\n            onClick={() => router.push(\"/tecnico\")}\r\n            className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\"\r\n          >\r\n            ‚Üê Volver al Panel\r\n          </button>\r\n        </div>\r\n\r\n        {/* Informaci√≥n Principal */}\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-lg font-bold mb-2\">üìù Descripci√≥n del Trabajo</h2>\r\n            <div className=\"bg-gray-50 p-4 rounded\">\r\n              <p className=\"text-gray-800\">{orden?.descripcion || \"Sin descripci√≥n\"}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Tipo</p>\r\n              <p className=\"font-medium capitalize\">{orden?.tipo}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Prioridad</p>\r\n              <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                orden?.prioridad === 'urgente' ? 'bg-red-100 text-red-800' :\r\n                orden?.prioridad === 'alta' ? 'bg-orange-100 text-orange-800' :\r\n                orden?.prioridad === 'media' ? 'bg-yellow-100 text-yellow-800' :\r\n                'bg-blue-100 text-blue-800'\r\n              }`}>\r\n                {orden?.prioridad}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"text-sm text-gray-500\">\r\n            <p>üïê Iniciado: {new Date(orden?.fecha_inicio || orden?.created_at).toLocaleString(\"es-ES\")}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Informaci√≥n de la M√°quina */}\r\n        {maquina && (\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\r\n            <h3 className=\"font-bold text-lg mb-4\">üöú M√°quina</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">C√≥digo</p>\r\n                <p className=\"font-bold\">{maquina.codigo}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Marca/Modelo</p>\r\n                <p>{maquina.marca} {maquina.modelo}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Hor√≥metro</p>\r\n                <p className=\"font-bold text-green-700\">{maquina.horometro || 0} hrs</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Estado</p>\r\n                <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                  maquina.estado === 'operativa' ? 'bg-green-100 text-green-800' :\r\n                  maquina.estado === 'mantenimiento' ? 'bg-yellow-100 text-yellow-800' :\r\n                  'bg-red-100 text-red-800'\r\n                }`}>\r\n                  {maquina.estado}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Informaci√≥n del Cliente */}\r\n        {cliente && (\r\n          <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\r\n            <h3 className=\"font-bold text-lg mb-4\">üë§ Cliente</h3>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Nombre</p>\r\n                <p className=\"font-medium\">{cliente.nombre}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Tel√©fono</p>\r\n                <p>{cliente.telefono || \"N/A\"}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Email</p>\r\n                <p>{cliente.email || \"N/A\"}</p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">RUC</p>\r\n                <p>{cliente.ruc || \"N/A\"}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Formulario para finalizar */}\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\r\n          <h3 className=\"font-bold text-lg mb-4\">üìã Registrar Finalizaci√≥n</h3>\r\n          \r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Observaciones / Trabajo Realizado * <span className=\"text-red-500\">Requerido</span>\r\n            </label>\r\n            <textarea\r\n              value={observaciones}\r\n              onChange={(e) => setObservaciones(e.target.value)}\r\n              placeholder=\"Describe detalladamente:\r\n‚Ä¢ Actividades realizadas\r\n‚Ä¢ Repuestos o piezas utilizadas\r\n‚Ä¢ Problemas encontrados y solucionados\r\n‚Ä¢ Recomendaciones para el cliente\r\n‚Ä¢ Cualquier observaci√≥n importante...\"\r\n              rows=\"6\"\r\n              className=\"w-full p-3 border rounded focus:ring-2 focus:ring-blue-500 outline-none\"\r\n              required\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              M√≠nimo 20 caracteres ‚Ä¢ {observaciones.length} caracteres escritos\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={finalizarTrabajo}\r\n              disabled={finalizando || observaciones.trim().length < 20}\r\n              className={`flex-1 py-3 text-white rounded font-bold transition ${\r\n                finalizando || observaciones.trim().length < 20\r\n                  ? \"bg-gray-400 cursor-not-allowed\"\r\n                  : \"bg-green-600 hover:bg-green-700 shadow-lg hover:shadow-xl\"\r\n              }`}\r\n            >\r\n              {finalizando ? \"‚è≥ Finalizando...\" : \"‚úÖ Finalizar Trabajo\"}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={cancelarTrabajo}\r\n              disabled={finalizando}\r\n              className=\"px-6 py-3 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:bg-gray-400\"\r\n            >\r\n              ‚è∏Ô∏è Cancelar\r\n            </button>\r\n          </div>\r\n          \r\n          {observaciones.trim().length < 20 && observaciones.length > 0 && (\r\n            <p className=\"text-red-500 text-sm mt-2\">\r\n              ‚ö†Ô∏è Las observaciones deben tener al menos 20 caracteres\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}