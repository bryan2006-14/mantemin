{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,0MAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/dashboard/page.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { supabase } from \"@/lib/supabase\"\r\n\r\nexport default function Dashboard() {\r\n\r\n  const [ubicaciones, setUbicaciones] = useState([])\r\n\r\n  useEffect(() => {\r\n    // Escuchar cambios en la tabla tecnicos\r\n    const canal = supabase\r\n      .channel(\"ubicaciones\")\r\n      .on(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"UPDATE\",\r\n          schema: \"public\",\r\n          table: \"tecnicos\",\r\n        },\r\n        (payload) => {\r\n          console.log(\"Cambio detectado:\", payload)\r\n          // Actualizar el estado\r\n          setUbicaciones((prev) => {\r\n            const actualizado = prev.filter(i => i.id !== payload.new.id)\r\n            return [...actualizado, payload.new]\r\n          })\r\n        }\r\n      )\r\n      .subscribe()\r\n\r\n    // Limpieza al salir de la pÃ¡gina\r\n    return () => {\r\n      supabase.removeChannel(canal)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-4\">\r\n      <h1 className=\"text-3xl font-bold\">Panel del Jefe</h1>\r\n\r\n      <h2 className=\"text-xl font-semibold\">Ubicaciones en tiempo real</h2>\r\n\r\n      <pre className=\"bg-gray-100 p-4 rounded-xl\">\r\n        {JSON.stringify(ubicaciones, null, 2)}\r\n      </pre>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IAEtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAEjD,IAAA,0KAAS;+BAAC;YACR,wCAAwC;YACxC,MAAM,QAAQ,8HAAQ,CACnB,OAAO,CAAC,eACR,EAAE,CACD,oBACA;gBACE,OAAO;gBACP,QAAQ;gBACR,OAAO;YACT;6CACA,CAAC;oBACC,QAAQ,GAAG,CAAC,qBAAqB;oBACjC,uBAAuB;oBACvB;qDAAe,CAAC;4BACd,MAAM,cAAc,KAAK,MAAM;yEAAC,CAAA,IAAK,EAAE,EAAE,KAAK,QAAQ,GAAG,CAAC,EAAE;;4BAC5D,OAAO;mCAAI;gCAAa,QAAQ,GAAG;6BAAC;wBACtC;;gBACF;4CAED,SAAS;YAEZ,iCAAiC;YACjC;uCAAO;oBACL,8HAAQ,CAAC,aAAa,CAAC;gBACzB;;QACF;8BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,6LAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAEtC,6LAAC;gBAAI,WAAU;0BACZ,KAAK,SAAS,CAAC,aAAa,MAAM;;;;;;;;;;;;AAI3C;GA3CwB;KAAA"}}]
}