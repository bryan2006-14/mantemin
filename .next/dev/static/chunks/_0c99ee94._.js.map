{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,0MAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BRAYAN/Desktop/Proyecto_Bashi/mantemin/app/admin/asignar/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nexport default function AsignarOT() {\r\n  const [tecnicos, setTecnicos] = useState([]);\r\n  const [ordenes, setOrdenes] = useState([]);\r\n  const [tecnicoId, setTecnicoId] = useState(\"\");\r\n  const [ordenId, setOrdenId] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    cargarTecnicos();\r\n    cargarOrdenes();\r\n  }, []);\r\n\r\n  async function cargarTecnicos() {\r\n    const { data } = await supabase.from(\"usuarios\").select(\"*\").eq(\"rol\", \"tecnico\");\r\n    setTecnicos(data);\r\n  }\r\n\r\n  async function cargarOrdenes() {\r\n    const { data } = await supabase.from(\"ordenes\").select(\"*\").eq(\"estado\", \"pendiente\");\r\n    setOrdenes(data);\r\n  }\r\n\r\n  async function asignar(e) {\r\n    e.preventDefault();\r\n\r\n    await supabase.from(\"ordenes\")\r\n      .update({ tecnico_id: tecnicoId, estado: \"asignada\" })\r\n      .eq(\"id\", ordenId);\r\n\r\n    setMsg(\"OT asignada ✔\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-lg mx-auto\">\r\n\r\n      <h1 className=\"text-xl font-bold mb-4\">Asignar OT a Técnico</h1>\r\n\r\n      <form onSubmit={asignar} className=\"flex flex-col gap-4\">\r\n\r\n        <select className=\"border p-2 rounded\"\r\n          value={ordenId} onChange={e => setOrdenId(e.target.value)}>\r\n          <option>Selecciona OT</option>\r\n          {ordenes.map(o => <option key={o.id} value={o.id}>OT #{o.id}</option>)}\r\n        </select>\r\n\r\n        <select className=\"border p-2 rounded\"\r\n          value={tecnicoId} onChange={e => setTecnicoId(e.target.value)}>\r\n          <option>Selecciona técnico</option>\r\n          {tecnicos.map(t => <option key={t.id} value={t.id}>{t.nombre}</option>)}\r\n        </select>\r\n\r\n        <button className=\"bg-blue-600 text-white py-2 rounded\">\r\n          Asignar\r\n        </button>\r\n\r\n        {msg && <p className=\"text-green-600\">{msg}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAC;IAE/B,IAAA,0KAAS;+BAAC;YACR;YACA;QACF;8BAAG,EAAE;IAEL,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,OAAO;QACvE,YAAY;IACd;IAEA,eAAe;QACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,8HAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,KAAK,EAAE,CAAC,UAAU;QACzE,WAAW;IACb;IAEA,eAAe,QAAQ,CAAC;QACtB,EAAE,cAAc;QAEhB,MAAM,8HAAQ,CAAC,IAAI,CAAC,WACjB,MAAM,CAAC;YAAE,YAAY;YAAW,QAAQ;QAAW,GACnD,EAAE,CAAC,MAAM;QAEZ,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAG,WAAU;0BAAyB;;;;;;0BAEvC,6LAAC;gBAAK,UAAU;gBAAS,WAAU;;kCAEjC,6LAAC;wBAAO,WAAU;wBAChB,OAAO;wBAAS,UAAU,CAAA,IAAK,WAAW,EAAE,MAAM,CAAC,KAAK;;0CACxD,6LAAC;0CAAO;;;;;;4BACP,QAAQ,GAAG,CAAC,CAAA,kBAAK,6LAAC;oCAAkB,OAAO,EAAE,EAAE;;wCAAE;wCAAK,EAAE,EAAE;;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGrC,6LAAC;wBAAO,WAAU;wBAChB,OAAO;wBAAW,UAAU,CAAA,IAAK,aAAa,EAAE,MAAM,CAAC,KAAK;;0CAC5D,6LAAC;0CAAO;;;;;;4BACP,SAAS,GAAG,CAAC,CAAA,kBAAK,6LAAC;oCAAkB,OAAO,EAAE,EAAE;8CAAG,EAAE,MAAM;mCAA5B,EAAE,EAAE;;;;;;;;;;;kCAGtC,6LAAC;wBAAO,WAAU;kCAAsC;;;;;;oBAIvD,qBAAO,6LAAC;wBAAE,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAI/C;GA3DwB;KAAA"}}]
}